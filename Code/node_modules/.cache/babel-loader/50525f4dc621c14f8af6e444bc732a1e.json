{"ast":null,"code":"import _classCallCheck from \"/Users/angelo.falci/Desktop/Projects/Corso React/Code/react-foundamentals/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/angelo.falci/Desktop/Projects/Corso React/Code/react-foundamentals/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/angelo.falci/Desktop/Projects/Corso React/Code/react-foundamentals/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/angelo.falci/Desktop/Projects/Corso React/Code/react-foundamentals/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/angelo.falci/Desktop/Projects/Corso React/Code/react-foundamentals/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/angelo.falci/Desktop/Projects/Corso React/Code/react-foundamentals/src/Game/Game.jsx\";\nimport React from 'react';\nimport './Game.css';\nimport { Cell } from '../Cell/Cell';\n\nfunction range(n) {\n  return Array.from({\n    length: n\n  }, function (_, i) {\n    return i;\n  });\n}\n\nexport var Game =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Game, _React$Component);\n\n  function Game(props) {\n    var _this;\n\n    _classCallCheck(this, Game);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Game).call(this, props));\n\n    _this.handleonUnmask = function () {\n      //Usando questa tipologia di arrow function this non perde il contesto (da ES2018)\n      _this.setState({\n        grid: _this.state.grid.map(function (row) {\n          return row.map(function (mine) {\n            return {\n              isMasked: false\n            };\n          });\n        })\n      });\n    };\n\n    _this.state = {\n      grid: _this.makeGrid(_this.props.rows, _this.props.cols)\n    };\n    return _this;\n  }\n\n  _createClass(Game, [{\n    key: \"makeGrid\",\n    value: function makeGrid(rows, cols) {\n      var grid = range(rows).map(function (x) {\n        return range(cols).map(function (y) {\n          return {\n            isMasked: true\n          };\n        });\n      });\n      return grid;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.props);\n      return React.createElement(\"div\", {\n        className: \"game\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"grid\",\n        style: {\n          gridTemplateColumns: \"repeat(\".concat(this.props.cols, \", 4rem)\"),\n          gridTemplateRows: \"repeat(\".concat(this.props.rows, \", 4rem)\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, this.state.grid.map(function (row, x) {\n        return row.map(function (mine, y) {\n          return React.createElement(Cell, {\n            mine: mine,\n            onUnmask: _this2.handleonUnmask,\n            key: \"\".concat(x, \"-\").concat(y),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          });\n        });\n      })));\n    }\n  }]);\n\n  return Game;\n}(React.Component);","map":{"version":3,"sources":["/Users/angelo.falci/Desktop/Projects/Corso React/Code/react-foundamentals/src/Game/Game.jsx"],"names":["React","Cell","range","n","Array","from","length","_","i","Game","props","handleonUnmask","setState","grid","state","map","row","mine","isMasked","makeGrid","rows","cols","x","y","console","log","gridTemplateColumns","gridTemplateRows","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;AACA,SAASC,IAAT,QAAqB,cAArB;;AAEA,SAASC,KAAT,CAAeC,CAAf,EAAiB;AACf,SAAOC,KAAK,CAACC,IAAN,CAAW;AAACC,IAAAA,MAAM,EAAEH;AAAT,GAAX,EAAwB,UAACI,CAAD,EAAIC,CAAJ;AAAA,WAAUA,CAAV;AAAA,GAAxB,CAAP;AACD;;AAED,WAAaC,IAAb;AAAA;AAAA;AAAA;;AACE,gBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,8EAAMA,KAAN;;AADgB,UAgBlBC,cAhBkB,GAgBD,YAAK;AAAE;AACtB,YAAKC,QAAL,CAAc;AACZC,QAAAA,IAAI,EAAE,MAAKC,KAAL,CAAWD,IAAX,CAAgBE,GAAhB,CAAoB,UAAAC,GAAG;AAAA,iBAAIA,GAAG,CAACD,GAAJ,CAAQ,UAACE,IAAD,EAAQ;AAC/C,mBAAO;AAACC,cAAAA,QAAQ,EAAC;AAAV,aAAP;AACD,WAFgC,CAAJ;AAAA,SAAvB;AADM,OAAd;AAMD,KAvBiB;;AAEhB,UAAKJ,KAAL,GAAa;AACXD,MAAAA,IAAI,EAAE,MAAKM,QAAL,CAAc,MAAKT,KAAL,CAAWU,IAAzB,EAA+B,MAAKV,KAAL,CAAWW,IAA1C;AADK,KAAb;AAFgB;AAMjB;;AAPH;AAAA;AAAA,6BASWD,IATX,EASiBC,IATjB,EASsB;AAClB,UAAMR,IAAI,GAAGX,KAAK,CAACkB,IAAD,CAAL,CAAYL,GAAZ,CAAiB,UAAAO,CAAC;AAAA,eAC7BpB,KAAK,CAACmB,IAAD,CAAL,CAAYN,GAAZ,CAAiB,UAAAQ,CAAC;AAAA,iBACjB;AAACL,YAAAA,QAAQ,EAAE;AAAX,WADiB;AAAA,SAAlB,CAD6B;AAAA,OAAlB,CAAb;AAIA,aAAOL,IAAP;AACD;AAfH;AAAA;AAAA,6BA0BW;AAAA;;AACTW,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKf,KAAjB;AAEE,aACA;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAsB,QAAA,KAAK,EAAE;AAC3BgB,UAAAA,mBAAmB,mBAAY,KAAKhB,KAAL,CAAWW,IAAvB,YADQ;AAE3BM,UAAAA,gBAAgB,mBAAY,KAAKjB,KAAL,CAAWU,IAAvB;AAFW,SAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIG,KAAKN,KAAL,CAAWD,IAAX,CAAgBE,GAAhB,CAAoB,UAACC,GAAD,EAAKM,CAAL,EAAU;AAC7B,eAAON,GAAG,CAACD,GAAJ,CAAQ,UAACE,IAAD,EAAMM,CAAN,EAAU;AACvB,iBAAO,oBAAC,IAAD;AAAM,YAAA,IAAI,EAAEN,IAAZ;AAAkB,YAAA,QAAQ,EAAE,MAAI,CAACN,cAAjC;AAAiD,YAAA,GAAG,YAAKW,CAAL,cAAUC,CAAV,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD,SAFM,CAAP;AAGD,OAJA,CAJH,CADF,CADA;AAcD;AA3CH;;AAAA;AAAA,EAA0BvB,KAAK,CAAC4B,SAAhC","sourcesContent":["import React from 'react'\nimport './Game.css'\nimport { Cell } from '../Cell/Cell';\n\nfunction range(n){\n  return Array.from({length: n}, (_, i) => i);\n}\n\nexport class Game extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      grid: this.makeGrid(this.props.rows, this.props.cols)\n    }\n    \n  }\n\n  makeGrid(rows, cols){\n    const grid = range(rows).map( x =>\n      range(cols).map( y =>\n      ({isMasked: true}),\n      ));\n    return grid;\n  }\n\n  handleonUnmask = () =>{ //Usando questa tipologia di arrow function this non perde il contesto (da ES2018)\n    this.setState({\n      grid: this.state.grid.map(row => row.map((mine)=>{\n        return {isMasked:false}\n      }),\n    ),\n    });\n  }\n\n  render() {\n  console.log(this.props);\n    \n    return (\n    <div className=\"game\">\n      <div className=\"grid\" style={{\n        gridTemplateColumns: `repeat(${this.props.cols}, 4rem)`,\n        gridTemplateRows: `repeat(${this.props.rows}, 4rem)`\n      }}>\n        {this.state.grid.map((row,x) =>{\n          return row.map((mine,y)=>{\n            return <Cell mine={mine} onUnmask={this.handleonUnmask} key={`${x}-${y}`}/>\n          })\n        })}\n      </div>\n    </div>\n    );\n  }\n  \n\n}"]},"metadata":{},"sourceType":"module"}